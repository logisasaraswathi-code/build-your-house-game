<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dream House Builder Game</title>
<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0; padding: 0;
    background-color: #f0f8ff;
}
h1, h2 {
    color: #2c3e50;
    margin: 15px 0;
}
.hidden { display: none; }
button {
    font-size: 16px;
    padding: 10px 15px;
    margin: 5px;
    cursor: pointer;
}
#moneyDisplay { font-size: 24px; margin: 10px 0; }
#feedback { font-size: 18px; min-height: 30px; transition: all 0.5s; }
.slider-container { margin: 10px 0; width: 300px; display: inline-block; text-align: left; }
.slider-container label { display: block; margin-bottom: 5px; }
.slider-container input[type=range] { width: 100%; }
#houseContainer {
    display: grid;
    grid-template-columns: repeat(5, 60px);
    grid-gap: 5px;
    justify-content: center;
    margin-top: 20px;
}
.block { width: 60px; height: 60px; background-color: #ddd; border: 2px solid #2c3e50; transition: all 0.5s; }
.filled { background-color: #3498db; transform: scale(1.1); }
.furniture { background-color: #e67e22; }
.decoration { background-color: #f1c40f; }
.color-option { display: inline-block; width: 40px; height: 40px; margin: 5px; cursor: pointer; border: 2px solid #333; }
.selected { border: 4px solid #000; }
.item-image { width: 60px; height: 60px; margin: 5px; cursor: pointer; border: 2px solid #333; }
</style>
</head>
<body>

<h1>Dream House Builder</h1>

<!-- Stage 1: Money Earning -->
<div id="stage1">
    <div id="moneyDisplay">Money: ‚Çπ0</div>
    <div id="questionContainer"></div>
    <div id="feedback"></div>
    <div>Round: <span id="roundDisplay">1</span> / 5</div>
</div>

<!-- Stage 2: House Design -->
<div id="stage2" class="hidden">
    <h2>Design Your House</h2>
    <div>Remaining Money: ‚Çπ<span id="remainingMoney">20000</span></div>
    <h3>Choose Wall Color:</h3>
    <div id="colorOptions">
        <div class="color-option" style="background-color:#ff9999;" onclick="selectColor('#ff9999')"></div>
        <div class="color-option" style="background-color:#99ff99;" onclick="selectColor('#99ff99')"></div>
        <div class="color-option" style="background-color:#9999ff;" onclick="selectColor('#9999ff')"></div>
        <div class="color-option" style="background-color:#ffff99;" onclick="selectColor('#ffff99')"></div>
    </div>

    <h3>Choose Bricks / Cement:</h3>
    <div>
        <img src="https://via.placeholder.com/60x60?text=StdBrick" class="item-image" onclick="selectItem('brick','Standard',2000)">
        <img src="https://via.placeholder.com/60x60?text=RedBrick" class="item-image" onclick="selectItem('brick','Red',3000)">
        <img src="https://via.placeholder.com/60x60?text=DecoBrick" class="item-image" onclick="selectItem('brick','Decorative',4000)">
        <img src="https://via.placeholder.com/60x60?text=BasicCem" class="item-image" onclick="selectItem('cement','Basic',2000)">
        <img src="https://via.placeholder.com/60x60?text=StrongCem" class="item-image" onclick="selectItem('cement','Strong',3000)">
        <img src="https://via.placeholder.com/60x60?text=PremiumCem" class="item-image" onclick="selectItem('cement','Premium',4000)">
    </div>

    <h3>Choose Furniture:</h3>
    <div>
        <img src="https://via.placeholder.com/60x60?text=Bed" class="item-image" onclick="selectItem('furniture','Bed',2000)">
        <img src="https://via.placeholder.com/60x60?text=Sofa" class="item-image" onclick="selectItem('furniture','Sofa',3000)">
        <img src="https://via.placeholder.com/60x60?text=Chair" class="item-image" onclick="selectItem('furniture','Chair',1000)">
        <img src="https://via.placeholder.com/60x60?text=Table" class="item-image" onclick="selectItem('furniture','Table',1500)">
    </div>

    <h3>Choose Decorations:</h3>
    <div>
        <img src="https://via.placeholder.com/60x60?text=Painting" class="item-image" onclick="selectItem('decoration','Painting',1000)">
        <img src="https://via.placeholder.com/60x60?text=Lamp" class="item-image" onclick="selectItem('decoration','Lamp',500)">
        <img src="https://via.placeholder.com/60x60?text=Curtain" class="item-image" onclick="selectItem('decoration','Curtain',700)">
        <img src="https://via.placeholder.com/60x60?text=Rug" class="item-image" onclick="selectItem('decoration','Rug',800)">
    </div>

    <button onclick="finishDesign()">Finish Design üè†</button>
    <div id="allocationFeedback" style="color:red;margin-top:10px;"></div>
</div>

<!-- Stage 3: House Construction -->
<div id="stage3" class="hidden">
    <h2>Your Dream House</h2>
    <div id="houseContainer"></div>
    <div id="finalMessage" style="font-size:22px; margin-top:20px;"></div>
</div>

<script>
// Stage 1
let money = 0, round = 1;
const totalRounds = 5;
const minMoney = 20000;
const questionContainer = document.getElementById('questionContainer');
const moneyDisplay = document.getElementById('moneyDisplay');
const roundDisplay = document.getElementById('roundDisplay');
const feedback = document.getElementById('feedback');

const scenarios = [
    {question:"You need to survive a storm. Which action do you take?", options:[{text:"Take shelter immediately",money:4000},{text:"Secure supplies first",money:3500},{text:"Call for help",money:4500}]},
    {question:"You want to gather resources quickly. What do you do?", options:[{text:"Use vehicle",money:4000},{text:"Go on foot",money:3500},{text:"Ask neighbors",money:4500}]},
    {question:"You need water for your team. Choose action:", options:[{text:"Collect from river",money:4000},{text:"Buy from shop",money:3500},{text:"Store rainwater",money:4500}]},
    {question:"You need firewood for warmth. What do you do?", options:[{text:"Gather in forest",money:4000},{text:"Buy online",money:3500},{text:"Trade for wood",money:4500}]},
    {question:"You need food for survival. Choose option:", options:[{text:"Cook from garden",money:4000},{text:"Buy groceries",money:3500},{text:"Ask friends",money:4500}]}
];

function showScenario() {
    if(round>totalRounds){ checkMoney(); return; }
    const sc = scenarios[round-1];
    questionContainer.innerHTML = `<h3>${sc.question}</h3>` + sc.options.map((o,i)=>`<button onclick="earnMoney(${i})">${o.text}</button>`).join("");
}
function earnMoney(optionIndex){
    const sc = scenarios[round-1];
    const gained = sc.options[optionIndex].money;
    money += gained;
    moneyDisplay.innerText = `Money: ‚Çπ${money}`;
    feedback.innerText = `‚úÖ You earned ‚Çπ${gained}`;
    feedback.style.color = 'green';
    round++;
    roundDisplay.innerText = round;
    setTimeout(showScenario,500);
}
function checkMoney(){
    if(money>=minMoney){
        document.getElementById('stage1').classList.add('hidden');
        document.getElementById('stage2').classList.remove('hidden');
    } else {
        feedback.innerText = "üí∏ You did not earn enough money. Restarting...";
        setTimeout(()=>{money=0; round=1; moneyDisplay.innerText='Money: ‚Çπ0'; roundDisplay.innerText='1'; showScenario();},2000);
    }
}
showScenario();

// Stage 2
let remainingMoney = 20000;
let selections = {color:'#ff9999',brick:null,cement:null,furniture:[],decoration:[]};
function selectColor(color){ selections.color=color; document.querySelectorAll('.color-option').forEach(c=>c.classList.remove('selected')); event.target.classList.add('selected'); }
function selectItem(category,name,price){
    if(remainingMoney<price){ document.getElementById('allocationFeedback').innerText="Not enough money!"; return; }
    remainingMoney-=price;
    document.getElementById('remainingMoney').innerText=remainingMoney;
    document.getElementById('allocationFeedback').innerText="";
    if(category==='brick') selections.brick=name;
    else if(category==='cement') selections.cement=name;
    else if(category==='furniture') selections.furniture.push(name);
    else if(category==='decoration') selections.decoration.push(name);
}
function finishDesign(){
    document.getElementById('stage2').classList.add('hidden');
    document.getElementById('stage3').classList.remove('hidden');
    buildHouse();
}

// Stage 3
function buildHouse(){
    const houseContainer=document.getElementById('houseContainer');
    houseContainer.innerHTML='';
    // 10 blocks infrastructure
    for(let i=0;i<10;i++){
        const b=document.createElement('div');
        b.classList.add('block','filled');
        b.style.backgroundColor=selections.color;
        houseContainer.appendChild(b);
    }
    // furniture blocks
    selections.furniture.forEach(f=>{
        const b=document.createElement('div');
        b.classList.add('block','furniture');
        houseContainer.appendChild(b);
    });
    // decoration blocks
    selections.decoration.forEach(d=>{
        const b=document.createElement('div');
        b.classList.add('block','decoration');
        houseContainer.appendChild(b);
    });
    document.getElementById('finalMessage').innerText="üéâ Congratulations! Your dream house is complete!";
    document.getElementById('finalMessage').style.color='green';
}
</script>

</body>
</html>
