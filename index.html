<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Statistics House Builder Game</title>
<style>
body{
  font-family: Arial;
  text-align:center;
  background:#f4f4f4;
}
.container{
  background:white;
  padding:20px;
  margin:20px auto;
  width:90%;
  max-width:900px;
  border-radius:10px;
  box-shadow:0 0 10px rgba(0,0,0,0.2);
}
button{
  padding:10px 15px;
  margin:5px;
  border:none;
  border-radius:5px;
  cursor:pointer;
  background:#007bff;
  color:white;
}
button:hover{
  background:#0056b3;
}
.choice{
  display:inline-block;
  margin:10px;
  cursor:pointer;
}
.choice svg{
  width:120px;
  height:100px;
  border:3px solid transparent;
  border-radius:8px;
}
.choice.selected svg{
  border-color:green;
}
#housePreview{
  margin-top:20px;
}
</style>
</head>
<body>

<div class="container" id="stage1">
<h2>Stage 1: Earn Money</h2>
<p>Money: ₹<span id="money">0</span></p>
<p id="question">If 5 workers build 5 walls in 5 days, how many walls can 1 worker build in 5 days?</p>
<button onclick="answer(1)">1 Wall</button>
<button onclick="answer(5)">5 Walls</button>
<button onclick="answer(25)">25 Walls</button>
<p id="message"></p>
</div>

<div class="container" id="stage2" style="display:none;">
<h2>Stage 2: Build Your House (Budget ₹20000)</h2>
<p>Money: ₹<span id="money2">20000</span></p>

<h3>Select Wall Color</h3>
<div class="choice" onclick="selectWall('#f4c2c2', this)">
<svg><rect width="120" height="100" fill="#f4c2c2"/></svg>
<p>Light Pink (₹3000)</p>
</div>

<div class="choice" onclick="selectWall('#d4edda', this)">
<svg><rect width="120" height="100" fill="#d4edda"/></svg>
<p>Light Green (₹3000)</p>
</div>

<div class="choice" onclick="selectWall('#d6e4ff', this)">
<svg><rect width="120" height="100" fill="#d6e4ff"/></svg>
<p>Light Blue (₹3000)</p>
</div>

<h3>Select Roof</h3>
<div class="choice" onclick="selectRoof('#8b0000', this)">
<svg>
<polygon points="0,80 60,10 120,80" fill="#8b0000"/>
</svg>
<p>Red Roof (₹4000)</p>
</div>

<div class="choice" onclick="selectRoof('#444', this)">
<svg>
<polygon points="0,80 60,10 120,80" fill="#444"/>
</svg>
<p>Dark Roof (₹4000)</p>
</div>

<h3>Select Door</h3>
<div class="choice" onclick="selectDoor('#654321', this)">
<svg>
<rect x="40" y="30" width="40" height="70" fill="#654321"/>
</svg>
<p>Wood Door (₹3000)</p>
</div>

<div class="choice" onclick="selectDoor('#222', this)">
<svg>
<rect x="40" y="30" width="40" height="70" fill="#222"/>
</svg>
<p>Modern Door (₹3000)</p>
</div>

<br><br>
<button onclick="finish()">Finish Construction</button>
<p id="msg2"></p>
</div>

<div class="container" id="stage3" style="display:none;">
<h2>Stage 3: Your Final House</h2>
<div id="housePreview"></div>
</div>

<script>
let money = 0;

function answer(val){
  if(val == 1){
    money += 5000;
    document.getElementById("message").innerText="Correct! You earned ₹5000";
    document.getElementById("money").innerText=money;
    setTimeout(()=>{
      document.getElementById("stage1").style.display="none";
      document.getElementById("stage2").style.display="block";
    },1500);
  } else {
    document.getElementById("message").innerText="Wrong answer. Try again!";
  }
}

let budget=20000;
let wallColor="#fff";
let roofColor="#8b0000";
let doorColor="#654321";

function selectWall(color,el){
  if(budget>=3000){
    wallColor=color;
    budget-=3000;
    document.getElementById("money2").innerText=budget;
    highlight(el);
  }
}

function selectRoof(color,el){
  if(budget>=4000){
    roofColor=color;
    budget-=4000;
    document.getElementById("money2").innerText=budget;
    highlight(el);
  }
}

function selectDoor(color,el){
  if(budget>=3000){
    doorColor=color;
    budget-=3000;
    document.getElementById("money2").innerText=budget;
    highlight(el);
  }
}

function highlight(element){
  let choices=document.querySelectorAll(".choice");
  choices.forEach(c=>c.classList.remove("selected"));
  element.classList.add("selected");
}

function finish(){
  document.getElementById("stage2").style.display="none";
  document.getElementById("stage3").style.display="block";

  document.getElementById("housePreview").innerHTML=`
  <svg width="400" height="300">
    <rect x="100" y="120" width="200" height="150" fill="${wallColor}" stroke="black"/>
    <polygon points="90,120 200,40 310,120" fill="${roofColor}" stroke="black"/>
    <rect x="180" y="180" width="40" height="90" fill="${doorColor}" stroke="black"/>
    <rect x="120" y="150" width="40" height="40" fill="#87ceeb" stroke="black"/>
    <rect x="240" y="150" width="40" height="40" fill="#87ceeb" stroke="black"/>
  </svg>
  `;
}
</script>

</body>
</html>
